{
  "data": [
    {
      "title": "Authentication with Anthropic API Key",
      "content": "The Claude Code SDK supports authentication using an Anthropic API key.  It is recommended to create a dedicated API key in the Anthropic Console and set the `ANTHROPIC_API_KEY` environment variable.  Storing this key securely is crucial (e.g., using a Github secret).",
      "category": "best_practice",
      "tags": [
        "#authentication",
        "#api_key",
        "#security"
      ],
      "topic": "authentication"
    },
    {
      "title": "Authentication with Third-Party API Providers",
      "content": "The Claude Code SDK supports authentication with third-party API providers such as Amazon Bedrock (set `CLAUDE_CODE_USE_BEDROCK=1` and configure AWS credentials) and Google Vertex AI (set `CLAUDE_CODE_USE_VERTEX=1` and configure Google Cloud credentials).",
      "category": "technical_decision",
      "tags": [
        "#authentication",
        "#aws",
        "#gcp",
        "#bedrock",
        "#vertexai"
      ],
      "topic": "authentication"
    },
    {
      "title": "Multi-turn Conversation Management",
      "content": "The Claude Code SDK allows resuming or continuing conversations using the `--continue` or `--resume` flags.  `--continue` continues the most recent conversation, while `--resume` continues a specific conversation by session ID.  These can be used in both interactive and non-interactive modes.",
      "category": "pattern",
      "tags": [
        "#conversation",
        "#session",
        "#cli"
      ],
      "topic": "workflows"
    },
    {
      "title": "Custom System Prompts",
      "content": "The Claude Code SDK allows overriding or appending to the default system prompt using the `--system-prompt` and `--append-system-prompt` flags, respectively. This is useful for guiding Claude's behavior and providing specific instructions.  These options only work with `--print` (non-interactive mode).",
      "category": "best_practice",
      "tags": [
        "#prompt_engineering",
        "#system_prompt",
        "#customization"
      ],
      "topic": "prompting"
    },
    {
      "title": "Model Context Protocol (MCP) Configuration",
      "content": "The Model Context Protocol (MCP) allows extending Claude Code with external tools and resources.  MCP servers are configured using a JSON file specified with the `--mcp-config` flag.  MCP tool names follow the pattern `mcp__<serverName>__<toolName>`.  Tools must be explicitly allowed using the `--allowedTools` flag for security.",
      "category": "technical_decision",
      "tags": [
        "#mcp",
        "#tools",
        "#extensibility",
        "#security"
      ],
      "topic": "architecture"
    },
    {
      "title": "Custom Permission Prompt Tool with MCP",
      "content": "The `--permission-prompt-tool` flag allows specifying an MCP tool to handle permission prompts. This tool is invoked when the model attempts to use a tool that isn't explicitly allowed or denied. The tool must return a JSON-stringified payload with `behavior` set to `allow` or `deny`, and optionally an `updatedInput` if the tool modifies the input.",
      "category": "technical_decision",
      "tags": [
        "#mcp",
        "#permissions",
        "#security",
        "#tool_invocation"
      ],
      "topic": "security"
    },
    {
      "title": "Output Formats: JSON for Programmatic Parsing",
      "content": "The Claude Code SDK supports multiple output formats, including `text`, `json`, and `stream-json`.  The `json` format is recommended for programmatic parsing of responses, as it provides structured data including metadata like cost, duration, and session ID.",
      "category": "best_practice",
      "tags": [
        "#json",
        "#output",
        "#parsing",
        "#automation"
      ],
      "topic": "workflows"
    },
    {
      "title": "Streaming JSON Input for Multi-Turn Conversations",
      "content": "The Claude Code SDK supports streaming JSON input via `stdin` for multi-turn conversations. Each line of input should be a JSON 'User message' object in jsonl format. This requires `-p` and `--output-format stream-json` and is currently limited to text-only user messages.",
      "category": "technical_decision",
      "tags": [
        "#jsonl",
        "#streaming",
        "#input",
        "#conversation"
      ],
      "topic": "workflows"
    },
    {
      "title": "Error Handling Best Practices",
      "content": "When integrating with the Claude Code SDK, it's essential to handle errors gracefully. This includes checking exit codes and stderr, and considering timeouts for long-running operations.  Respecting rate limits is also important when making multiple requests.",
      "category": "best_practice",
      "tags": [
        "#error_handling",
        "#reliability",
        "#timeouts",
        "#ratelimits"
      ],
      "topic": "reliability"
    },
    {
      "title": "MCP Tool Naming Convention",
      "content": "When using MCP tools, the tool names must follow the convention `mcp__<serverName>__<toolName>`. The `serverName` corresponds to the key in the MCP configuration file, and the `toolName` is the specific tool provided by that server. This naming convention is crucial for the `--allowedTools` flag to function correctly.",
      "category": "gotcha",
      "tags": [
        "#mcp",
        "#tools",
        "#naming_convention"
      ],
      "topic": "architecture"
    }
  ],
  "expires": 1759797132.28958,
  "created": 1759710732.289597
}