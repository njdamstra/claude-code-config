{
  "data": [
    {
      "title": "Authentication with Anthropic API Key",
      "content": "The Claude Code SDK can be authenticated using an Anthropic API key.  Create a key in the Anthropic Console and set the `ANTHROPIC_API_KEY` environment variable. Securely store this key, for example, using Github secrets.",
      "category": "best_practice",
      "tags": [
        "#authentication",
        "#api_key",
        "#security"
      ],
      "topic": "authentication"
    },
    {
      "title": "Authentication with Third-Party API Providers",
      "content": "The Claude Code SDK supports authentication using third-party API providers such as Amazon Bedrock and Google Vertex AI. Set `CLAUDE_CODE_USE_BEDROCK=1` or `CLAUDE_CODE_USE_VERTEX=1` respectively, and configure the corresponding AWS or Google Cloud credentials.",
      "category": "technical_decision",
      "tags": [
        "#authentication",
        "#bedrock",
        "#vertexai",
        "#aws",
        "#gcp"
      ],
      "topic": "authentication"
    },
    {
      "title": "Output Formats: JSON for Programmatic Parsing",
      "content": "Use the `--output-format json` option when you need to programmatically parse the output from the Claude Code SDK. This provides structured data including metadata like cost, duration, and session ID.",
      "category": "best_practice",
      "tags": [
        "#json",
        "#output_format",
        "#parsing"
      ],
      "topic": "output_formats"
    },
    {
      "title": "Output Formats: Streaming JSON for Real-time Updates",
      "content": "Use the `--output-format stream-json` option to receive a stream of JSON objects as they are generated.  Each conversation starts with an `init` message, followed by user and assistant messages, and ends with a `result` message containing statistics.",
      "category": "technical_decision",
      "tags": [
        "#json",
        "#streaming",
        "#output_format"
      ],
      "topic": "output_formats"
    },
    {
      "title": "Error Handling: Check Exit Codes and Stderr",
      "content": "Always check the exit code of the `claude` command and examine stderr for error messages when integrating the Claude Code SDK into scripts. This allows for graceful error handling and debugging.",
      "category": "best_practice",
      "tags": [
        "#error_handling",
        "#exit_code",
        "#stderr"
      ],
      "topic": "error_handling"
    },
    {
      "title": "Session Management: Maintaining Context in Multi-Turn Conversations",
      "content": "Use session management with the `--resume` or `--continue` flags to maintain context across multiple turns in a conversation. Capture the session ID from the JSON output to resume specific conversations.",
      "category": "best_practice",
      "tags": [
        "#session_management",
        "#context",
        "#multi_turn"
      ],
      "topic": "workflows"
    },
    {
      "title": "Custom System Prompts: Guiding Claude's Behavior",
      "content": "Use the `--system-prompt` flag to override the default system prompt and guide Claude's behavior.  Use `--append-system-prompt` to add instructions to the default system prompt. These options only work with `--print`.",
      "category": "best_practice",
      "tags": [
        "#system_prompt",
        "#customization",
        "#prompt_engineering"
      ],
      "topic": "prompting"
    },
    {
      "title": "MCP Configuration: Extending Claude Code with External Tools",
      "content": "The Model Context Protocol (MCP) allows you to extend Claude Code with external tools and resources. Use the `--mcp-config` flag to load MCP servers from a JSON configuration file.  MCP tool names follow the pattern `mcp__<serverName>__<toolName>`.",
      "category": "technical_decision",
      "tags": [
        "#mcp",
        "#tools",
        "#extensibility"
      ],
      "topic": "architecture"
    },
    {
      "title": "MCP Configuration: Explicitly Allowing Tools for Security",
      "content": "When using MCP tools, you must explicitly allow them using the `--allowedTools` flag. This security measure ensures that MCP tools are only used when explicitly permitted. Specify the tool name in the format `mcp__<serverName>__<toolName>`.",
      "category": "best_practice",
      "tags": [
        "#mcp",
        "#security",
        "#allowedTools"
      ],
      "topic": "security"
    },
    {
      "title": "Custom Permission Prompt Tool: Controlling Tool Usage",
      "content": "Use `--permission-prompt-tool` to specify an MCP tool that checks whether the user grants the model permission to invoke a given tool. The tool must return a JSON-stringified payload with `behavior: allow` or `behavior: deny`.",
      "category": "technical_decision",
      "tags": [
        "#mcp",
        "#permissions",
        "#security"
      ],
      "topic": "security"
    },
    {
      "title": "Streaming JSON Input: Providing Guidance During Processing",
      "content": "Use streaming JSON input via `stdin` to provide guidance to the model while it is processing a request. Each line of input should be a JSON 'User message' object in jsonl format. Requires `-p` and `--output-format stream-json`.",
      "category": "technical_decision",
      "tags": [
        "#streaming",
        "#jsonl",
        "#input_format"
      ],
      "topic": "input_formats"
    },
    {
      "title": "TypeScript SDK: AbortController for Managing Requests",
      "content": "The TypeScript SDK accepts an `abortController` argument, allowing you to cancel long-running requests. This is useful for managing resources and preventing timeouts.",
      "category": "best_practice",
      "tags": [
        "#typescript",
        "#abortController",
        "#cancellation"
      ],
      "topic": "typescript"
    }
  ],
  "expires": 1759794828.2166772,
  "created": 1759708428.216693
}