[DEBUG] Getting matching hook commands for SessionStart with query: clear
[DEBUG] Found 1 hook matchers in settings
[DEBUG] Matched 1 unique hooks for query "clear" (1 before deduplication)
[DEBUG] Hooks: Checking initial response for async: {"hookSpecificOutput": {"hookEventName": "SessionStart", "additionalContext": "Session started at: 2025-10-31 12:04:03\nSession source: clear\nGit branch: main\nUncommitted changes: 10 files"}}
[DEBUG] Hooks: Parsed initial response: {"hookSpecificOutput":{"hookEventName":"SessionStart","additionalContext":"Session started at: 2025-10-31 12:04:03\nSession source: clear\nGit branch: main\nUncommitted changes: 10 files"}}
[DEBUG] Hooks: Initial response is not async, continuing normal processing
[DEBUG] Successfully parsed and validated hook JSON output
[DEBUG] FileHistory: Added snapshot for 879a2711-6a1c-4330-9556-535ae091011f, tracking 0 files
[DEBUG] Rendering user message with 1 content blocks
[DEBUG] Block 0: <command-name>/clear</command-name>
            <command-message>clear</command-message>
           ...
[DEBUG] UserCommandMessage rendering: "clear" (args: "none")
[DEBUG] isSkillFormat: false, prefix: "/"
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.54268.1761937444415
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 444703 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.54268.1761937444415 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.54268.1761937444463
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 444556 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.54268.1761937444463 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.54268.1761937446967
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 444556 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.54268.1761937446967 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] Getting matching hook commands for SessionEnd with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Cleaned up session snapshot: /Users/natedamstra/.claude/shell-snapshots/snapshot-zsh-1761864851812-a56adf.sh
[DEBUG] MCP server "context7": Sending SIGINT to MCP server process
[DEBUG] MCP server "gemini-cli": Sending SIGINT to MCP server process
[DEBUG] MCP server "tavily": Sending SIGINT to MCP server process
[DEBUG] MCP server "perplexity-mcp": Sending SIGINT to MCP server process
[DEBUG] FileHistory: Making snapshot for message 06639fc4-ba94-4614-8556-87e863d96220
[DEBUG] FileHistory: Added snapshot for 06639fc4-ba94-4614-8556-87e863d96220, tracking 0 files
[DEBUG] Rendering user message with 1 content blocks
[DEBUG] Block 0: <command-name>/exit</command-name>
            <command-message>exit</command-message>
            <...
[DEBUG] UserCommandMessage rendering: "exit" (args: "none")
[DEBUG] isSkillFormat: false, prefix: "/"
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.54268.1761937448150
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 444556 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.54268.1761937448150 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.54268.1761937448198
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 444555 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.54268.1761937448198 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] MCP server "context7": SIGINT failed, sending SIGTERM to MCP server process
[DEBUG] MCP server "gemini-cli": SIGINT failed, sending SIGTERM to MCP server process
[DEBUG] MCP server "tavily": SIGINT failed, sending SIGTERM to MCP server process
[DEBUG] MCP server "perplexity-mcp": SIGINT failed, sending SIGTERM to MCP server process
[ERROR] MCP server "tavily" Server stderr: [54664] 
Shutting down...
[DEBUG] MCP server "context7": MCP server process exited cleanly
[DEBUG] MCP server "gemini-cli": MCP server process exited cleanly
[DEBUG] MCP server "tavily": MCP server process exited cleanly
[DEBUG] MCP server "perplexity-mcp": MCP server process exited cleanly
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.54268.1761937448326
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 444984 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.54268.1761937448326 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.1393.1761937606491
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 61979 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.1393.1761937606491 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.1393.1761937606548
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 61979 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.1393.1761937606548 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] Getting matching hook commands for SessionStart with query: resume
[DEBUG] Found 1 hook matchers in settings
[DEBUG] Matched 1 unique hooks for query "resume" (1 before deduplication)
[DEBUG] Hooks: Checking initial response for async: {"hookSpecificOutput": {"hookEventName": "SessionStart", "additionalContext": "Session started at: 2025-10-31 12:07:15\nSession source: resume\nGit branch: main\nUncommitted changes: 34 files"}}
[DEBUG] Hooks: Parsed initial response: {"hookSpecificOutput":{"hookEventName":"SessionStart","additionalContext":"Session started at: 2025-10-31 12:07:15\nSession source: resume\nGit branch: main\nUncommitted changes: 34 files"}}
[DEBUG] Hooks: Initial response is not async, continuing normal processing
[DEBUG] Successfully parsed and validated hook JSON output
[DEBUG] Writing to temp file: /Users/natedamstra/.claude/todos/e4c999cc-a818-4857-bdc4-e23d15f3de08-agent-e4c999cc-a818-4857-bdc4-e23d15f3de08.json.tmp.1393.1761937635911
[DEBUG] Temp file written successfully, size: 1699 bytes
[DEBUG] Renaming /Users/natedamstra/.claude/todos/e4c999cc-a818-4857-bdc4-e23d15f3de08-agent-e4c999cc-a818-4857-bdc4-e23d15f3de08.json.tmp.1393.1761937635911 to /Users/natedamstra/.claude/todos/e4c999cc-a818-4857-bdc4-e23d15f3de08-agent-e4c999cc-a818-4857-bdc4-e23d15f3de08.json
[DEBUG] File /Users/natedamstra/.claude/todos/e4c999cc-a818-4857-bdc4-e23d15f3de08-agent-e4c999cc-a818-4857-bdc4-e23d15f3de08.json written atomically
[DEBUG] FileHistory: Copied backup 2595b2e763784fc8@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 99049728c6157416@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 47c4f778b38c6615@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 99049728c6157416@v3 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 47c4f778b38c6615@v3 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 55b368184e320afd@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 79d298ab568151bb@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup caaf7030875fa302@v1 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 62b65332b2aa715e@v1 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 0308f60c5decc5d5@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup d0eb270e60dc33a6@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup caaf7030875fa302@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup ccc51c1adb9df237@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] FileHistory: Copied backup 62b65332b2aa715e@v2 from session b4a032b0-a049-4439-b727-880adf3bdcb6 to e4c999cc-a818-4857-bdc4-e23d15f3de08
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.1393.1761937635963
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 61979 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.1393.1761937635963 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] Rendering user message with 1 content blocks
[DEBUG] Block 0: <command-name>/clear</command-name>
            <command-message>clear</command-message>
           ...
[DEBUG] UserCommandMessage rendering: "clear" (args: "none")
[DEBUG] isSkillFormat: false, prefix: "/"
[DEBUG] Rendering user message with 1 content blocks
[DEBUG] Block 0: <command-name>/exit</command-name>
            <command-message>exit</command-message>
            <...
[DEBUG] UserCommandMessage rendering: "exit" (args: "none")
[DEBUG] isSkillFormat: false, prefix: "/"
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.1393.1761937636006
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 61874 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.1393.1761937636006 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
[DEBUG] Writing to temp file: /Users/natedamstra/.claude.json.tmp.1393.1761937636034
[DEBUG] Preserving file permissions: 100600
[DEBUG] Temp file written successfully, size: 61874 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /Users/natedamstra/.claude.json.tmp.1393.1761937636034 to /Users/natedamstra/.claude.json
[DEBUG] File /Users/natedamstra/.claude.json written atomically
