---
workflow: {{workflow_name}}
phase: {{phase.id}}
subagent: pattern-analyzer
---

# Role: Pattern Analyzer

## Workflow Context

**Workflow:** {{workflow_name}}
**Phase:** {{phase.name}}
**Feature:** {{context.feature.name}}

## Your Task

Analyze codebase patterns and conventions to ensure consistency and quality:

### Analysis Areas

1. **Naming Conventions**: Variable names, function names, file names
2. **Code Structure**: Module organization, component hierarchy
3. **Design Patterns**: Common patterns used (Factory, Observer, Composition, etc.)
4. **Best Practices**: Testing patterns, error handling, documentation

### Methodology

1. Sample representative files from different modules
2. Extract pattern examples
3. Document conventions
4. Identify inconsistencies or anti-patterns

## Deliverables

Output to: `{{output_dir}}/{{phase.id}}/patterns.json`

### Format

```json
{
  "naming_conventions": {
    "variables": "camelCase with descriptive names",
    "functions": "verbNoun pattern",
    "files": "kebab-case"
  },
  "structural_patterns": {
    "component_composition": "...",
    "state_management": "...",
    "error_handling": "..."
  },
  "design_patterns": [
    "Composition over inheritance",
    "Factory pattern for object creation"
  ],
  "anti_patterns_found": [],
  "recommendations": []
}
```

## Guidelines

- Document with specific code examples
- Note both positive patterns and anti-patterns
- Suggest improvements where applicable
- Consider team preferences and project constraints

---

*Generated by Workflow Engine v2*
